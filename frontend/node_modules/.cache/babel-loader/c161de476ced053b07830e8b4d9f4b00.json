{"ast":null,"code":"import * as actionTypes from './actions';\nimport config from './../config';\nconst initialState = {\n  isOpen: [],\n  //for active default menu\n  isTrigger: [],\n  //for active default menu, set blank for horizontal\n  ...config,\n  isFullScreen: false,\n  // static can't change\n  billingdatarecord: [],\n  loginIndicator: 0,\n  billtotal: 0\n};\nconst reducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  let trigger = [];\n  let open = [];\n  switch (action.type) {\n    case actionTypes.COLLAPSE_MENU:\n      return {\n        ...state,\n        collapseMenu: !state.collapseMenu\n      };\n    case actionTypes.LOGIN_INDICATOR:\n      console.log(\"Login value is\" + action.loginIndicator);\n      return {\n        ...state,\n        loginIndicator: action.loginIndicator\n      };\n    case actionTypes.COLLAPSE_TOGGLE:\n      if (action.menu.type === 'sub') {\n        open = state.isOpen;\n        trigger = state.isTrigger;\n        const triggerIndex = trigger.indexOf(action.menu.id);\n        if (triggerIndex > -1) {\n          open = open.filter(item => item !== action.menu.id);\n          trigger = trigger.filter(item => item !== action.menu.id);\n        }\n        if (triggerIndex === -1) {\n          open = [...open, action.menu.id];\n          trigger = [...trigger, action.menu.id];\n        }\n      } else {\n        open = state.isOpen;\n        const triggerIndex = state.isTrigger.indexOf(action.menu.id);\n        trigger = triggerIndex === -1 ? [action.menu.id] : [];\n        open = triggerIndex === -1 ? [action.menu.id] : [];\n      }\n      return {\n        ...state,\n        isOpen: open,\n        isTrigger: trigger\n      };\n    case actionTypes.NAV_CONTENT_LEAVE:\n      return {\n        ...state,\n        isOpen: open,\n        isTrigger: trigger\n      };\n    case actionTypes.BILLING_DATA:\n      const billingdatamerge = state.billingdatarecord.concat(action.billingdatarecord);\n      const sumofbillingdatamerge = billingdatamerge.reduce((a, c) => {\n        let x = a.find(e => e.barcode === c.barcode);\n        if (!x) a.push(Object.assign({}, c));else x.size += c.size;\n        return a;\n      }, []);\n      var totalbill = 0;\n      sumofbillingdatamerge.map(bill => {\n        totalbill += bill[\"size\"] * bill[\"price\"];\n      });\n      return {\n        ...state,\n        billingdatarecord: sumofbillingdatamerge,\n        billtotal: totalbill\n      };\n    case actionTypes.EDIT_BILLING_DATA:\n      const editbillingdatamerge = action.editbillingdatarecord;\n      const editsumofbillingdatamerge = editbillingdatamerge.reduce((a, c) => {\n        let x = a.find(e => e.barcode === c.barcode);\n        if (!x) a.push(Object.assign({}, c));else x.size += c.size;\n        return a;\n      }, []);\n      var totaleditbill = 0;\n      editsumofbillingdatamerge.map(bill => {\n        totaleditbill += bill[\"size\"] * bill[\"price\"];\n      });\n      console.log(\"*********\");\n      console.log(totaleditbill);\n      console.log(\"*************\");\n      return {\n        ...state,\n        billingdatarecord: editsumofbillingdatamerge,\n        billtotal: totaleditbill\n      };\n    case actionTypes.NAV_COLLAPSE_LEAVE:\n      if (action.menu.type === 'sub') {\n        open = state.isOpen;\n        trigger = state.isTrigger;\n        const triggerIndex = trigger.indexOf(action.menu.id);\n        if (triggerIndex > -1) {\n          open = open.filter(item => item !== action.menu.id);\n          trigger = trigger.filter(item => item !== action.menu.id);\n        }\n        return {\n          ...state,\n          isOpen: open,\n          isTrigger: trigger\n        };\n      }\n      return {\n        ...state\n      };\n    case actionTypes.EMPTY_BILLING_DATA:\n      return {\n        ...state,\n        billingdatarecord: [],\n        billtotal: 0\n      };\n    case actionTypes.FULL_SCREEN:\n      return {\n        ...state,\n        isFullScreen: !state.isFullScreen\n      };\n    case actionTypes.FULL_SCREEN_EXIT:\n      return {\n        ...state,\n        isFullScreen: false\n      };\n    case actionTypes.CHANGE_LAYOUT:\n      return {\n        ...state,\n        layout: action.layout\n      };\n    default:\n      return state;\n  }\n};\nexport default reducer;","map":{"version":3,"names":["actionTypes","config","initialState","isOpen","isTrigger","isFullScreen","billingdatarecord","loginIndicator","billtotal","reducer","state","arguments","length","undefined","action","trigger","open","type","COLLAPSE_MENU","collapseMenu","LOGIN_INDICATOR","console","log","COLLAPSE_TOGGLE","menu","triggerIndex","indexOf","id","filter","item","NAV_CONTENT_LEAVE","BILLING_DATA","billingdatamerge","concat","sumofbillingdatamerge","reduce","a","c","x","find","e","barcode","push","Object","assign","size","totalbill","map","bill","EDIT_BILLING_DATA","editbillingdatamerge","editbillingdatarecord","editsumofbillingdatamerge","totaleditbill","NAV_COLLAPSE_LEAVE","EMPTY_BILLING_DATA","FULL_SCREEN","FULL_SCREEN_EXIT","CHANGE_LAYOUT","layout"],"sources":["C:/Users/HP/Desktop/Student out pass/frontend/src/store/reducer.js"],"sourcesContent":["import * as actionTypes from './actions';\nimport config from './../config';\n\nconst initialState = {\n    isOpen: [], //for active default menu\n    isTrigger: [], //for active default menu, set blank for horizontal\n    ...config,\n    isFullScreen: false, // static can't change\n    billingdatarecord: [],\n    loginIndicator:0,\n    billtotal:0\n};\n\nconst reducer = (state = initialState, action) => {\n    let trigger = [];\n    let open = [];\n\n    switch (action.type) {\n        case actionTypes.COLLAPSE_MENU:\n            return {\n                ...state,\n                collapseMenu: !state.collapseMenu\n            };\n            case actionTypes.LOGIN_INDICATOR:\n\n            console.log (\"Login value is\" + action.loginIndicator)\n                return {\n                    ...state,\n                    loginIndicator: action.loginIndicator,\n                };\n        case actionTypes.COLLAPSE_TOGGLE:\n            if (action.menu.type === 'sub') {\n                open = state.isOpen;\n                trigger = state.isTrigger;\n\n                const triggerIndex = trigger.indexOf(action.menu.id);\n                if (triggerIndex > -1) {\n                    open = open.filter(item => item !== action.menu.id);\n                    trigger = trigger.filter(item => item !== action.menu.id);\n                }\n\n                if (triggerIndex === -1) {\n                    open = [...open, action.menu.id];\n                    trigger = [...trigger, action.menu.id];\n                }\n            } else {\n                open = state.isOpen;\n                const triggerIndex = (state.isTrigger).indexOf(action.menu.id);\n                trigger = (triggerIndex === -1) ? [action.menu.id] : [];\n                open = (triggerIndex === -1) ? [action.menu.id] : [];\n            }\n\n            return {\n                ...state,\n                isOpen: open,\n                isTrigger: trigger\n            };\n        case actionTypes.NAV_CONTENT_LEAVE:\n            return {\n                ...state,\n                isOpen: open,\n                isTrigger: trigger,\n            };\n\n        case actionTypes.BILLING_DATA:\n\n            const billingdatamerge = state.billingdatarecord.concat(action.billingdatarecord)\n            const sumofbillingdatamerge = billingdatamerge.reduce((a, c) => {\n                let x = a.find(e => e.barcode === c.barcode)\n                if (!x) a.push(Object.assign({}, c))\n                else \n                x.size += c.size\n                return a\n            }, [])\n            var totalbill=0;\n            sumofbillingdatamerge.map((bill)=>{\n                totalbill+=bill[\"size\"]*bill[\"price\"];\n            })\n            return {\n                ...state,\n                billingdatarecord: sumofbillingdatamerge,\n                billtotal:totalbill\n            };\n\n        case actionTypes.EDIT_BILLING_DATA:\n\n            const editbillingdatamerge = action.editbillingdatarecord\n            const editsumofbillingdatamerge = editbillingdatamerge.reduce((a, c) => {\n                let x = a.find(e => e.barcode === c.barcode)\n                if (!x) a.push(Object.assign({}, c))\n                else x.size += c.size\n                return a\n            }, [])\n            var totaleditbill=0;\n            editsumofbillingdatamerge.map((bill)=>{\n                totaleditbill+=bill[\"size\"]*bill[\"price\"];\n            })\n            console.log(\"*********\")\n            console.log(totaleditbill)\n            console.log(\"*************\")\n            return {\n                ...state,\n                billingdatarecord: editsumofbillingdatamerge,\n                billtotal:totaleditbill\n            };\n\n        case actionTypes.NAV_COLLAPSE_LEAVE:\n            if (action.menu.type === 'sub') {\n                open = state.isOpen;\n                trigger = state.isTrigger;\n                const triggerIndex = trigger.indexOf(action.menu.id);\n                if (triggerIndex > -1) {\n                    open = open.filter(item => item !== action.menu.id);\n                    trigger = trigger.filter(item => item !== action.menu.id);\n                }\n                return {\n                    ...state,\n                    isOpen: open,\n                    isTrigger: trigger,\n                };\n            }\n            return { ...state };\n\n            case actionTypes.EMPTY_BILLING_DATA:\n            return {\n                ...state,\n                billingdatarecord: [],\n                billtotal:0\n            };\n\n            \n        case actionTypes.FULL_SCREEN:\n            return {\n                ...state,\n                isFullScreen: !state.isFullScreen\n            };\n        case actionTypes.FULL_SCREEN_EXIT:\n            return {\n                ...state,\n                isFullScreen: false\n            };\n        case actionTypes.CHANGE_LAYOUT:\n            return {\n                ...state,\n                layout: action.layout\n            };\n        default:\n            return state;\n    }\n};\n\nexport default reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}